{"version":3,"sources":["webpack:///./src/assets/imgs/temp3.png","webpack:///./src/App.vue?b898","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/page/Index.vue","webpack:///./src/page/Index.vue?f850","webpack:///./src/page/Index.vue","webpack:///src/page/Share.vue","webpack:///./src/page/Share.vue?d183","webpack:///./src/page/Share.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/imgs/temp2.png","webpack:///./src/assets/imgs/temp1.png"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","name","ssrContext","Index","data","curIndex","imgArr","imgUrl","initTouchX","initTouchY","changeTouchX","changeTouchY","reviewImgDom","lastTouchX","lastTouchY","previewImg","myImg","position","x","y","scale","lastScale","mounted","document","querySelector","addEventListener","event","touches","length","preventDefault","lastTouchEnd","now","Date","getTime","methods","getPhoto","that","e","reads","FileReader","readAsDataURL","files","orientation","result","exif_default","a","getData","getAllTags","getTag","rotateCanvas","createElement","rotateCtx","getContext","width","height","drawImage","translate","rotate","Math","PI","toDataURL","changeIndex","index","getInitPosition","pointOne","pointTwo","clientX","clientY","getMovePosition","getLeavePosition","createPhoto","photoBox","newImgWidth","style","offsetWidth","newImgHeight","offsetHeight","window","devicePixelRatio","npm_default","useCORS","then","canvas","dataUrl","localStorage","imgData","$router","push","params","storage","alert","page_Index","_vm","staticClass","_v","type","value","accept","on","click","transform","src","touchstart","$event","getPosition","touchmove","touchend","class","select-img","src_page_Index","Index_normalizeComponent","Share","shareImgUrl","created","$route","page_Share","alt","src_page_Share","Share_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.6eb02b2260435bbd70ce.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/temp3.fc6b51d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/temp3.png\n// module id = /X17\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b74431c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b74431c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b74431c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n        <div class=\"index-container\">\n            <label class=\"upload-btn\">开始上传或拍照\n                <input type=\"file\" value=\"\" accept=\"image/*\" @click=\"getPhoto\" id=\"image-input\">\n            </label>\n            <div class=\"photo-box\">\n                <div class=\"preview-box\">\n                    <img :src=\"imgUrl\" id=\"preview-img\" :style=\"{transform:'scale('+ myImg.scale+ ') translate('+myImg.position.x+'px,'+myImg.position.y+'px)'}\" @touchstart=\"getPosition($event)\" @touchmove=\"getMovePosition($event)\" @touchend=\"getLeavePosition($event)\">\n                </div>\n                <img :src=\"imgArr[curIndex]\" id=\"preview-bg\" @touchstart=\"getInitPosition($event)\" @touchmove=\"getMovePosition($event)\" @touchend=\"getLeavePosition($event)\">\n            </div>\n            <div class=\"photo-ul\">\n                <img src=\"../assets/imgs/temp1.png\" @click=\"changeIndex(0)\" :class=\"{'select-img':curIndex==0}\">\n                <img src=\"../assets/imgs/temp2.png\" @click=\"changeIndex(1)\" :class=\"{'select-img':curIndex==1}\">\n                <img src=\"../assets/imgs/temp3.png\" @click=\"changeIndex(2)\" :class=\"{'select-img':curIndex==2}\">\n            </div>\n            <div class=\"composite-btn\" @click=\"createPhoto\">合成图片</div>\n        </div>\n    </template>\n    <script>\n        import html2canvas from 'html2canvas'\n        import Exif from 'exif-js'\n        export default {\n            data () {\n                return {\n                    curIndex: 0,\n                    imgArr: [\n                        require('../assets/imgs/temp1.png'), \n                        require('../assets/imgs/temp2.png'),\n                        require('../assets/imgs/temp3.png')\n                    ],\n                    imgUrl: '',\n                    initTouchX: 0,\n                    initTouchY: 0,\n                    changeTouchX: 0,\n                    changeTouchY: 0,\n                    reviewImgDom: '',\n                    lastTouchX: 0,\n                    lastTouchY: 0,\n                    previewImg: '',\n                    myImg: {\n                        position: {\n                            x: 0,\n                            y: 0\n                        },\n                        scale: 1,\n                        lastScale: 1\n                    }\n                }\n            },\n            mounted () {\n                this.previewImg = document.querySelector('#preview-img')\n                document.addEventListener('touchstart',function (event) { \n                    if(event.touches.length>1){ \n                        event.preventDefault(); \n                    } \n                }) \n                var lastTouchEnd=0; \n                document.addEventListener('touchend',function (event) { \n                    var now=(new Date()).getTime(); \n                    if(now-lastTouchEnd<=300){ \n                        event.preventDefault(); \n                    } \n                    lastTouchEnd=now; \n                },false) \n            },\n            methods: {\n                getPhoto () {\n                    var imageInput = document.querySelector('#image-input')\n                    var that = this\n                    imageInput.addEventListener('change', function (e) {\n                        let reads = new FileReader()\n                        reads.readAsDataURL(this.files[0])\n                        reads.addEventListener('load', function (e) {\n                            that.imgUrl = this.result\n                            that.myImg.position.x = 0\n                            that.myImg.position.y = 0\n                            that.myImg.scale = 1\n                            var orientation\n                            that.previewImg.addEventListener('load', function () {\n                                Exif.getData(that.previewImg, function() { // 获取图像的数据\n                                    Exif.getAllTags(this); // 获取图像的全部数据，值以对象的方式返回\n                                    orientation = Exif.getTag(this, \"Orientation\"); // 获取图像的拍摄方向\n                                    var rotateCanvas = document.createElement(\"canvas\"),\n                                        rotateCtx = rotateCanvas.getContext(\"2d\");\n                                    // 针对图像方向进行处理\n                                    switch (orientation) {\n                                        case 1 :\n                                            rotateCanvas.width = that.previewImg.width;\n                                            rotateCanvas.height = that.previewImg.height;\n                                            rotateCtx.drawImage(that.previewImg, 0, 0, that.previewImg.width, that.previewImg.height);\n                                            break;\n                                        case 6 : // 顺时针 90 度\n                                            rotateCanvas.width = that.previewImg.height;\n                                            rotateCanvas.height = that.previewImg.width;\n                                            rotateCtx.translate(0, 0);\n                                            rotateCtx.rotate(90 * Math.PI / 180);\n                                            rotateCtx.drawImage(that.previewImg, 0, -that.previewImg.height, that.previewImg.width, that.previewImg.height);\n                                            break;\n                                        case 8 :\n                                            rotateCanvas.width = that.previewImg.height;\n                                            rotateCanvas.height = that.previewImg.width;\n                                            rotateCtx.translate(0, 0);\n                                            rotateCtx.rotate(-90 * Math.PI / 180);\n                                            rotateCtx.drawImage(that.previewImg, -that.previewImg.width, 0, that.previewImg.width, that.previewImg.height);\n                                            break;\n                                        case 3 : // 180 度\n                                            rotateCanvas.width = that.previewImg.width;\n                                            rotateCanvas.height = that.previewImg.height;\n                                            rotateCtx.translate(0, 0);\n                                            rotateCtx.rotate(Math.PI);\n                                            rotateCtx.drawImage(that.previewImg, -that.previewImg.width, -that.previewImg.height, that.previewImg.width, that.previewImg.height);\n                                            break;\n                                        default :\n                                            rotateCanvas.width = that.previewImg.width;\n                                            rotateCanvas.height = that.previewImg.height;\n                                            rotateCtx.drawImage(that.previewImg, 0, 0, that.previewImg.width, that.previewImg.height);\n                                    }\n                                    var rotateBase64 = rotateCanvas.toDataURL(\"image/jpeg\", 0.5);\n\n                                });\n                            })\n                        }) \n                    })\n                },\n                changeIndex (index) {\n                    this.curIndex = index\n                },\n                getInitPosition (e) {\n                    event.preventDefault()\n                    if (this.imgUrl) {\n                        var length = e.touches.length\n                        if (length > 1) {\n                            let pointOne = e.touches[0]\n                            let pointTwo = e.touches[1]\n                            this.initTouchX = pointOne.clientX - pointTwo.clientX\n                            this.initTouchY = pointOne.clientY - pointTwo.clientY\n                        } else {\n                            var touches = e.touches[0]\n                            this.initTouchX = touches.clientX\n                            this.initTouchY = touches.clientY\n                        }   \n                    }\n                },\n                getMovePosition (e) {\n                    event.preventDefault()\n                    if (this.imgUrl) {\n                        var length = e.touches.length\n                        if (length > 1) {\n                            let pointOne = e.touches[0]\n                            let pointTwo = e.touches[1]\n                            this.changeTouchX = pointOne.clientX - pointTwo.clientX\n                            this.changeTouchY = pointOne.clientY - pointTwo.clientY\n                            var scale = (this.changeTouchX - this.initTouchX) > (this.changeTouchY - this.initTouchY) ? (this.changeTouchX / this.initTouchX) : (this.changeTouchY / this.initTouchY) \n                            scale *= this.myImg.lastScale\n                            this.myImg.scale = scale > 3 ? 3 : scale < 0.5 ? 0.5 : scale\n                        } else {\n                            var touches = e.touches[0]\n                            this.changeTouchX = touches.clientX - this.initTouchX\n                            this.changeTouchY = touches.clientY - this.initTouchY\n                            this.myImg.position.x = this.lastTouchX + (this.changeTouchX / this.myImg.scale)\n                            this.myImg.position.y = this.lastTouchY + (this.changeTouchY / this.myImg.scale)\n                        }   \n                    }\n                },\n                getLeavePosition (e) {\n                    this.myImg.lastScale = this.myImg.scale\n                    if (e.touches.length > 0) {\n                        var touches = e.touches[0]\n                        this.initTouchX = touches.clientX\n                        this.initTouchY = touches.clientY\n                    }\n                    this.lastTouchX = this.myImg.position.x\n                    this.lastTouchY = this.myImg.position.y\n                },\n                createPhoto () {\n                    if (this.imgUrl) {\n                        let photoBox = document.querySelector('.photo-box')\n                        let newImgWidth = photoBox.style.offsetWidth\n                        let newImgHeight = photoBox.style.offsetHeight\n                        let scale = window.devicePixelRatio\n                        let that = this\n                        html2canvas(photoBox, {\n                            width: newImgWidth,\n                            height: newImgHeight,\n                            scale: scale,\n                            useCORS: true\n                        }).then(function (canvas) { \n                            var dataUrl = canvas.toDataURL('image/jpg')\n                            localStorage.imgData = dataUrl\n                            that.$router.push({\n                                name: 'share',\n                                params: {\n                                    storage: 'imgData'\n                                }\n                            })\n                        })\n                    } else {\n                        alert('请上传图片')\n                    }\n                    \n                }\n            }\n        }\n    </script>\n    <style lang=\"less\">\n        @import '../assets/css/reset.css';\n        #app {\n            .index-container {\n                padding-top: 0.6rem;\n                box-sizing: border-box;\n                min-height: 100vh;\n                background: url(../assets/imgs/bg.png) no-repeat;\n                .upload-btn {\n                    display: block;\n                    font-size: 0.36rem;\n                    width: 5.26rem;\n                    height: 0.92rem;\n                    background: #2f96ff;\n                    line-height: 0.92rem;\n                    color: #fff;\n                    margin: 0 auto;\n                    text-align: center;\n                    border-radius: 10px;\n                    font-weight: normal;\n                    box-shadow: 0rem 0.1rem 0 0.001rem #448adf;\n                    position: relative;\n                    &::before {\n                        display: inline-block;\n                        content: '';\n                        width: 0.44rem;\n                        height: 0.36rem;\n                        background: url(../assets/imgs/camera.png) no-repeat;\n                        background-size: 100%;\n                        margin-right: 0.1rem;\n                        vertical-align: middle;\n                    }\n                    #image-input {\n                        position: absolute;\n                        z-index: -1;\n                        width: 100%;\n                        height: 100%;\n                        left: 0;\n                        top: 0;\n                        outline: none;\n                        border-radius: 10px;\n                    }\n                }\n                .photo-box {\n                    margin: 0.4rem auto 0.2rem auto;\n                    width: 6.4rem;\n                    height: 6rem;\n                    background: #fff;\n                    position: relative;\n                    overflow: hidden;\n                    img {\n                        width: 6.4rem;\n                        height: 6rem;\n                        position: absolute;\n                        z-index: 99;\n                    }\n                    .preview-box {\n                        position: absolute;\n                        z-index: 9;\n                        left: 0;\n                        top: 0;\n                        width: 100%;\n                        height: 100%;\n                    }\n                }\n                .photo-ul {\n                    width: 100%;\n                    height: 2.1rem;\n                    padding: 0.14rem 0;\n                    box-sizing: border-box;\n                    background: #fff;\n                    text-align: center;\n                    img {\n                        width: 1.6rem;\n                        height: 1.72rem;\n                        border-radius: 5px;\n                    }\n                    .select-img {\n                        border: 2px solid #ff5b2f;\n                        box-shadow: 0px 4px 10px 0 rgba(250, 82, 82, 0.7);\n                    }\n                }\n                .composite-btn {\n                    display: block;\n                    font-size: 0.36rem;\n                    width: 5.26rem;\n                    height: 0.92rem;\n                    background:rgba(243, 111, 84, 0.881);\n                    line-height: 0.92rem;\n                    color: #fff;\n                    margin: 0.2rem auto;\n                    text-align: center;\n                    border-radius: 10px;\n                    font-weight: normal;\n                    box-shadow: 0rem 0.1rem 0 0.001rem #e0836a;\n                }\n            }\n            \n        }\n    </style>\n\n\n// WEBPACK FOOTER //\n// src/page/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-container\"},[_c('label',{staticClass:\"upload-btn\"},[_vm._v(\"开始上传或拍照\\n        \"),_c('input',{attrs:{\"type\":\"file\",\"value\":\"\",\"accept\":\"image/*\",\"id\":\"image-input\"},on:{\"click\":_vm.getPhoto}})]),_vm._v(\" \"),_c('div',{staticClass:\"photo-box\"},[_c('div',{staticClass:\"preview-box\"},[_c('img',{style:({transform:'scale('+ _vm.myImg.scale+ ') translate('+_vm.myImg.position.x+'px,'+_vm.myImg.position.y+'px)'}),attrs:{\"src\":_vm.imgUrl,\"id\":\"preview-img\"},on:{\"touchstart\":function($event){_vm.getPosition($event)},\"touchmove\":function($event){_vm.getMovePosition($event)},\"touchend\":function($event){_vm.getLeavePosition($event)}}})]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.imgArr[_vm.curIndex],\"id\":\"preview-bg\"},on:{\"touchstart\":function($event){_vm.getInitPosition($event)},\"touchmove\":function($event){_vm.getMovePosition($event)},\"touchend\":function($event){_vm.getLeavePosition($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"photo-ul\"},[_c('img',{class:{'select-img':_vm.curIndex==0},attrs:{\"src\":require(\"../assets/imgs/temp1.png\")},on:{\"click\":function($event){_vm.changeIndex(0)}}}),_vm._v(\" \"),_c('img',{class:{'select-img':_vm.curIndex==1},attrs:{\"src\":require(\"../assets/imgs/temp2.png\")},on:{\"click\":function($event){_vm.changeIndex(1)}}}),_vm._v(\" \"),_c('img',{class:{'select-img':_vm.curIndex==2},attrs:{\"src\":require(\"../assets/imgs/temp3.png\")},on:{\"click\":function($event){_vm.changeIndex(2)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"composite-btn\",on:{\"click\":_vm.createPhoto}},[_vm._v(\"合成图片\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c71c54f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c71c54f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c71c54f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Index.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"share-box\">\n        <img :src=\"shareImgUrl\" alt=\"\">\n        <span>长按图片保存</span>\n    </div>\n</template>\n<script>\n    export default {\n        data () {\n            return {\n                shareImgUrl: ''\n            }\n        },\n        created () {\n            this.shareImgUrl = localStorage[this.$route.params.storage]\n        }\n    }\n</script>\n<style lang=\"less\">\n    .share-box {\n        text-align: center;\n        img {\n            width: 6.4rem;\n            margin: 0 auto;\n        }\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/Share.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-box\"},[_c('img',{attrs:{\"src\":_vm.shareImgUrl,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"长按图片保存\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29a45492\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Share.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29a45492\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Share.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Share.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Share.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29a45492\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Share.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Share.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport IndexPage from '../page/Index.vue'\nimport Share from '../page/Share.vue'\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'IndexPage',\n      component: IndexPage\n    },\n    {\n      path: 'share',\n      name: 'share',\n      component: Share\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nVue.config.productionTip = false\n// require('./mock.js')\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/temp2.453791f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/temp2.png\n// module id = Xhsr\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/temp1.a71cdce.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/temp1.png\n// module id = neOf\n// module chunks = 1"],"sourceRoot":""}